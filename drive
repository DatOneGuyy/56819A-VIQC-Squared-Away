#pragma config(Motor,  motor1,          leftdrive,     tmotorVexIQ, PIDControl, driveLeft, encoder)
#pragma config(Motor,  motor2,          rightdrive,    tmotorVexIQ, PIDControl, reversed, driveRight, encoder)
#pragma config(Motor,  motor3,          strafe,        tmotorVexIQ, PIDControl, encoder)
#pragma config(Motor,  motor4,          armleft,       tmotorVexIQ, PIDControl, encoder)
#pragma config(Motor,  motor5,          armright,      tmotorVexIQ, PIDControl, reversed, encoder)
#pragma config(Motor,  motor6,          claw,          tmotorVexIQ, PIDControl, encoder)
//*!!Code automatically generated by 'ROBOTC' configuration wizard               !!*//

int leftarm = getMotorEncoder(armleft);
int rightarm = getMotorEncoder(armright);

task main() {
	while (true) {
		setMotorSpeed(leftdrive, getJoystickValue(ChA));
		setMotorSpeed(rightdrive, getJoystickValue(ChD));
		if (abs(getJoystickValue(ChB)) > abs(getJoystickValue(ChC))) {
			setMotorSpeed(strafe, getJoystickValue(ChB));
		} else if (abs(getJoystickValue(ChC)) > abs(getJoystickValue(ChB))) {
			setMotorSpeed(strafe, getJoystickValue(ChC));
		} else {
			setMotorSpeed(strafe, getJoystickValue(ChC) * 0.5 + getJoystickValue(ChB) * 0.5);
		}
		
		if (leftarm * 0.5 + rightarm * 0.5 < 260 && getJoystickValue(BtnRUp) == 1 && getJoystickValue(BtnRDown) == 0) {
			setMotorSpeed(armleft, 100);
			setMotorSpeed(armright, 100);
		} else if (getJoystickValue(BtnRDown) == 1 && getJoystickValue(BtnRUp) == 0) {
			setMotorSpeed(armleft, -100);
			setMotorSpeed(armright, -100);
		} else {
			setMotorSpeed(armleft, 0);
			setMotorSpeed(armright, 0);
		}
		
		if (getJoystickValue(BtnLUp) == 1 && getJoystickValue(BtnLDown) == 0) {
			setMotorSpeed(claw, 100);
		} else if (getJoystickValue(BtnLDown) == 1 && getJoystickValue(BtnLUp) == 0) {
			setMotorSpeed(claw, -100);
		} else {
			setMotorSpeed(claw, 0);
		}
	}
}
